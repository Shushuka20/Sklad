
@{
    ViewBag.Title = "Debtors";
    Layout = "~/Views/Shared/_LayoutAdmin.cshtml";
}

<table class="table table-bordered table-condensed">
    <thead style="background-color: white; opacity: 1;">
        <tr>
            <th>Дата</th>
            <th>№ продажи</th>
            <th>Описание продажи</th>
            <th>Сумма продажи без скидки</th>
            <th>Скидка</th>
            <th>Внесли денег</th>
            <th>Остаток</th>
            <th>Расход по продаже</th>
            <th>Описание расхода</th>
            <th>Была ли отгрузка</th>
            <th>Покупатель</th>
            <th>Комментарий</th>
            <th>Действие</th>
        </tr>
    </thead>
    <tbody id="results">
        @foreach (var s in Model)
        {
            string str = s.Comment;
            if (s.Number != null && s.Description == null && s.Outgo == 0)
            {
                if (s.PayForTerminal == true)
                {
                    <tr style="background-color: #49bcff">
                        <td>@s.Date</td>
                        <td>@s.Number</td>
                        <td>@s.Description</td>
                        <td>@s.SumWithoutD</td>
                        <td>@s.Discount</td>
                        <td>@s.AddMoney</td>
                        <td>@s.Remain</td>
                        <td>@s.Outgo</td>
                        <td>@s.OutgoDescription</td>
                        <td>
                            @if (s.Shipment == true)
                            {
                                <span>Была</span>
                            }
                            else if (s.Shipment == false)
                            {
                                <span>Не была</span>
                            }
                        </td>
                        <td>
                            @if (s.Dealer != null)
                            {
                                <h4>@s.Dealer.Name</h4>
                            }
                            else if (s.Buyer != null)
                            {
                                <h4>@s.Buyer.Number</h4>
                            }
                        </td>
                        <td>@s.Comment</td>
                        <td>
                            <a href="/Admin/Realization/@s.Id" class="btn btn-default">Редактировать</a>
                            <a href="/Admin/RealizationDelete/@s.Id" class="btn btn-danger">Удалить</a>
                        </td>
                    </tr>
                }
                else
                {
                    <tr style="background-color: #ff9749">
                        <td>@s.Date</td>
                        <td>@s.Number</td>
                        <td>@s.Description</td>
                        <td>@s.SumWithoutD</td>
                        <td>@s.Discount</td>
                        <td>@s.AddMoney</td>
                        <td>@s.Remain</td>
                        <td>@s.Outgo</td>
                        <td>@s.OutgoDescription</td>
                        <td>
                            @if (s.Shipment == true)
                            {
                                <span>Была</span>
                            }
                            else if (s.Shipment == false)
                            {
                                <span>Не была</span>
                            }
                        </td>
                        <td>
                            @if (s.Dealer != null)
                            {
                                <h4>@s.Dealer.Name</h4>
                            }
                            else if (s.Buyer != null)
                            {
                                <h4>@s.Buyer.Number</h4>
                            }
                        </td>
                        <td>@s.Comment</td>
                        <td>
                            <a href="/Admin/Realization/@s.Id" class="btn btn-default">Редактировать</a>
                            <a href="/Admin/RealizationDelete/@s.Id" class="btn btn-danger">Удалить</a>
                        </td>
                    </tr>
                }
            }
            else if (s.PayForTerminal == true)
            {
                <tr style="background-color: #5cb85c">
                    <td>@s.Date</td>
                    <td>@s.Number</td>
                    <td>@s.Description</td>
                    <td>@s.SumWithoutD</td>
                    <td>@s.Discount</td>>
                    <td>@s.AddMoney</td>
                    <td>@s.Remain</td>
                    <td>@s.Outgo</td>
                    <td>@s.OutgoDescription</td>
                    <td>
                        @if (s.Shipment == true)
                    {
                            <span>Была</span>
                        }
                        else if (s.Shipment == false)
                        {
                            <span>Не была</span>
                        }
                    </td>
                    <td>
                        @if (s.Dealer != null)
                    {
                            <h4>@s.Dealer.Name</h4>
                        }
                        else if (s.Buyer != null)
                        {
                            <h4>@s.Buyer.Number</h4>
                        }
                    </td>
                    <td>@s.Comment</td>
                    <td>
                        <a href="/Admin/Realization/@s.Id" class="btn btn-default">Редактировать</a>
                        <a href="/Admin/RealizationDelete/@s.Id" class="btn btn-danger">Удалить</a>
                    </td>
                </tr>
            }
            else if (str != null)
            {
                if (str.Contains("Монтажник:"))
                {
                    <tr style="background-color: #FFEC00">
                        <td>@s.Date</td>
                        <td>@s.Number</td>
                        <td>@s.Description</td>
                        <td>@s.SumWithoutD</td>>
                        <td>@s.Discount</td>
                        <td>@s.AddMoney</td>
                        <td>@s.Remain</td>
                        <td>@s.Outgo</td>
                        <td>@s.OutgoDescription</td>
                        <td>
                            @if (s.Shipment == true)
                            {
                                <span>Была</span>
                            }
                            else if (s.Shipment == false)
                            {
                                <span>Не была</span>
                            }
                        </td>
                        <td>
                            @if (s.Dealer != null)
                            {
                                <h4>@s.Dealer.Name</h4>
                            }
                            else if (s.Buyer != null)
                            {
                                <h4>@s.Buyer.Number</h4>
                            }
                        </td>
                        <td>@s.Comment</td>
                        <td>
                            <a href="/Admin/Realization/@s.Id" class="btn btn-default">Редактировать</a>
                            <a href="/Admin/RealizationDelete/@s.Id" class="btn btn-danger">Удалить</a>
                        </td>
                    </tr>
                }
                else if (str.Contains("Приём денег."))
                {
                    <tr style="background-color: #E6E6FA">
                        <td>@s.Date</td>
                        <td>@s.Number</td>
                        <td>@s.Description</td>
                        <td>@s.SumWithoutD</td>>
                        <td>@s.Discount</td>
                        <td>@s.AddMoney</td>
                        <td>@s.Remain</td>
                        <td>@s.Outgo</td>
                        <td>@s.OutgoDescription</td>
                        <td>
                            @if (s.Shipment == true)
                            {
                                <span>Была</span>
                            }
                            else if (s.Shipment == false)
                            {
                                <span>Не была</span>
                            }
                        </td>
                        <td>
                            @if (s.Dealer != null)
                            {
                                <h4>@s.Dealer.Name</h4>
                            }
                            else if (s.Buyer != null)
                            {
                                <h4>@s.Buyer.Number</h4>
                            }
                        </td>
                        <td>@s.Comment</td>
                        <td>
                            <a href="/Admin/Realization/@s.Id" class="btn btn-default">Редактировать</a>
                            <a href="/Admin/RealizationDelete/@s.Id" class="btn btn-danger">Удалить</a>
                        </td>
                    </tr>
                }
                else
                {
                    <tr>
                        <td>@s.Date</td>
                        <td>@s.Number</td>
                        <td>@s.Description</td>
                        <td>@s.SumWithoutD</td>>
                        <td>@s.Discount</td>
                        <td>@s.AddMoney</td>
                        <td>@s.Remain</td>
                        <td>@s.Outgo</td>
                        <td>@s.OutgoDescription</td>
                        <td>
                            @if (s.Shipment == true)
                            {
                                <span>Была</span>
                            }
                            else if (s.Shipment == false)
                            {
                                <span>Не была</span>
                            }
                        </td>
                        <td>
                            @if (s.Dealer != null)
                            {
                                <h4>@s.Dealer.Name</h4>
                            }
                            else if (s.Buyer != null)
                            {
                                <h4>@s.Buyer.Number</h4>
                            }
                        </td>
                        <td>@s.Comment</td>
                        <td>
                            <a href="/Admin/Realization/@s.Id" class="btn btn-default">Редактировать</a>
                            <a href="/Admin/RealizationDelete/@s.Id" class="btn btn-danger">Удалить</a>
                        </td>
                    </tr>
                }
            }
            else
            {
                <tr>
                    <td>@s.Date</td>
                    <td>@s.Number</td>
                    <td>@s.Description</td>
                    <td>@s.SumWithoutD</td>>
                    <td>@s.Discount</td>
                    <td>@s.AddMoney</td>
                    <td>@s.Remain</td>
                    <td>@s.Outgo</td>
                    <td>@s.OutgoDescription</td>
                    <td>
                        @if (s.Shipment == true)
                        {
                            <span>Была</span>
                        }
                        else if (s.Shipment == false)
                        {
                            <span>Не была</span>
                        }
                    </td>
                    <td>
                        @if (s.Dealer != null)
                        {
                            <h4>@s.Dealer.Name</h4>
                        }
                        else if (s.Buyer != null)
                        {
                            <h4>@s.Buyer.Number</h4>
                        }
                    </td>
                    <td>@s.Comment</td>
                    <td>
                        <a href="/Admin/Realization/@s.Id" class="btn btn-default">Редактировать</a>
                        <a href="/Admin/RealizationDelete/@s.Id" class="btn btn-danger">Удалить</a>
                    </td>
                </tr>
            }
        }
    </tbody>
</table>



